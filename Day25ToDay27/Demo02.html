<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <select id="year-select">
            <option value="2000">2000</option>
        <option value="2001">2001</option>
        <option value="2002">2002</option>
        <option value="2003">2003</option>
        <option value="2004">2004</option>
        <option value="2005">2005</option>
        <option value="2006">2006</option>
        <option value="2007">2007</option>
        <option value="2008">2008</option>
        <option value="2009">2009</option>
        <option value="2010">2010</option>
        <option value="2011">2011</option>
        <option value="2012">2012</option>
        <option value="2013">2013</option>
        <option value="2014">2014</option>
        <option value="2015">2015</option>
        <option value="2016">2016</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
        <option value="2021">2021</option>
        <option value="2022">2022</option>
        <option value="2023">2023</option>
        <option value="2024">2024</option>
        <option value="2025">2025</option>
        <option value="2026">2026</option>
        <option value="2027">2027</option>
        <option value="2028">2028</option>
        <option value="2029">2029</option>
        <option value="2030">2030</option>
    </select>
    
    <select id="month-select">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
    </select>
    
    <select id="day-select">
   

    </select>
    
    <select id="hour-select">
     <option value="01">01</option>
     <option value="02">02</option>
     <option value="03">03</option>
     <option value="04">04</option>
     <option value="05">05</option>
     <option value="06">06</option>
     <option value="07">07</option>
     <option value="08">08</option>
     <option value="09">09</option>
     <option value="10">10</option>
     <option value="11">11</option>
     <option value="12">12</option>
     <option value="13">13</option>
     <option value="14">14</option>
     <option value="15">15</option>
     <option value="16">16</option>
     <option value="17">17</option>
     <option value="18">18</option>
     <option value="19">19</option>
     <option value="20">20</option>
     <option value="21">21</option>
     <option value="22">22</option>
     <option value="23">23</option>
    </select>
    
    <select id="minite-select">
       <option value="01">01</option>
       <option value="02">02</option>
       <option value="03">03</option>
       <option value="04">04</option>
       <option value="05">05</option>
       <option value="06">06</option>
       <option value="07">07</option>
       <option value="08">08</option>
       <option value="09">09</option>
       <option value="10">10</option>
       <option value="11">11</option>
       <option value="12">12</option>
       <option value="13">13</option>
       <option value="14">14</option>
       <option value="15">15</option>
       <option value="16">16</option>
       <option value="17">17</option>
       <option value="18">18</option>
       <option value="19">19</option>
       <option value="20">20</option>
       <option value="21">21</option>
       <option value="22">22</option>
       <option value="23">23</option>
       <option value="24">24</option>
       <option value="25">25</option>
       <option value="26">26</option>
       <option value="27">27</option>
       <option value="28">28</option>
       <option value="29">29</option>
       <option value="30">30</option>
       <option value="31">31</option>
       <option value="32">32</option>
       <option value="33">33</option>
       <option value="34">34</option>
       <option value="35">35</option>
       <option value="36">36</option>
       <option value="37">37</option>
       <option value="38">38</option>
       <option value="39">39</option>
       <option value="40">40</option>
       <option value="41">41</option>
       <option value="42">42</option>
       <option value="43">43</option>
       <option value="44">44</option>
       <option value="45">45</option>
       <option value="46">46</option>
       <option value="47">47</option>
       <option value="48">48</option>
       <option value="49">49</option>
       <option value="50">50</option>
       <option value="51">51</option>
       <option value="52">52</option>
       <option value="53">53</option>
       <option value="54">54</option>
       <option value="55">55</option>
       <option value="56">56</option>
       <option value="57">57</option>
       <option value="58">58</option>
       <option value="59">59</option>
    </select>
    
    <select id="second-select">
        <option value="01">01</option>
        <option value="02">02</option>
        <option value="03">03</option>
        <option value="04">04</option>
        <option value="05">05</option>
        <option value="06">06</option>
        <option value="07">07</option>
        <option value="08">08</option>
        <option value="09">09</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        <option value="32">32</option>
        <option value="33">33</option>
        <option value="34">34</option>
        <option value="35">35</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
        <option value="42">42</option>
        <option value="43">43</option>
        <option value="44">44</option>
        <option value="45">45</option>
        <option value="46">46</option>
        <option value="47">47</option>
        <option value="48">48</option>
        <option value="49">49</option>
        <option value="50">50</option>
        <option value="51">51</option>
        <option value="52">52</option>
        <option value="53">53</option>
        <option value="54">54</option>
        <option value="55">55</option>
        <option value="56">56</option>
        <option value="57">57</option>
        <option value="58">58</option>
        <option value="59">59</option>
    </select>
    <p id="nowtime"></p>
    <p id="result-wrapper">现在距离 2001年1月1日星期X HH:MM:SS 还有 X 天 X 小时 X 分 X 秒</p>
<script>
    var year = 2000;
    var mon = 1;
    var day = 1;
    var days = 31;
    var hour=01;
    var minite=01;
    var second=01;
    var yearSelect = document.getElementById('year-select');
    var monthSelect = document.getElementById('month-select');
    var daySelect = document.getElementById('day-select');
    var hourSelect = document.getElementById('hour-select');
    var miniteSelect = document.getElementById('minite-select');
    var secondSelect = document.getElementById('second-select');
    var resultwrapper = document.getElementById('result-wrapper');

    //获取年份
 function selectYear(){     
       //获取select对象
         yearSelect.onchange = function(){    
        //获取选中的index索引
        var index = yearSelect.selectedIndex;
        year = yearSelect.options[index].value; 
        Leapyear(year);
     
        console.log(yearFlag);
    
        
    }
    
    }
    selectYear();
    

     
    //获取月份
    function selectmonth(){
        addDays(31);
            monthSelect.onchange = function(){
            var index = monthSelect.selectedIndex;
            mon = monthSelect.options[index].value;
           
            selectMonthDay(mon);
           
            addDays(days);

            
            
            
        }
    }
    selectmonth();
  
           
    
    //获取天数
    function selectday(){
            daySelect.onchange = function(){
            var index = daySelect.selectedIndex;
            day = daySelect.options[index].value;
            
        }
      

    }
    selectday();
 

    //获取小时数
    function selecthour(){
             hourSelect.onchange = function(){
            var index = hourSelect.selectedIndex;
            hour = hourSelect.options[index].value;
        }
    }
    selecthour();

    //获取分钟
    function selectminite(){
        miniteSelect.onchange = function(){
            var index = miniteSelect.selectedIndex;
            minite = miniteSelect.options[index].value;
        }
    }
    selectminite();

    //获取秒数
    function selectsecond(){
        
        secondSelect.onchange = function(){
            var index = secondSelect.selectedIndex;
            second = secondSelect.options[index].value;
        }
    }
    selectsecond();   

    //判断是否为闰年
    var yearFlag=null;
    function Leapyear(Fullyear){
        if((Fullyear%4==0&&Fullyear%100!=0)||Fullyear%400==0){        
            yearFlag = true;    
        }else {
            yearFlag = false;          
        }
     
    }
    Leapyear(year);
    console.log(yearFlag);
   
    //判断月份天数 利用switchcase 返回天数 再利用循环改变selectday天数
    //31:1 3 5 7 8 10 12
    //30:4 6 9 11
    function selectMonthDay(Monthkey){
     if(yearFlag==true){
       if(Monthkey==1||Monthkey==3||Monthkey==5||Monthkey==7||Monthkey==8||Monthkey==10||Monthkey==12){
           return days=31;
       }else if((Monthkey==4||Monthkey==6||Monthkey==9||Monthkey==11)){
        return days=30;
       }else if(Monthkey==2){
        return days=29;
       }

     }else if(yearFlag==false){
        if(Monthkey==1||Monthkey==3||Monthkey==5||Monthkey==7||Monthkey==8||Monthkey==10||Monthkey==12){
           return days=31;
       }else if((Monthkey==4||Monthkey==6||Monthkey==9||Monthkey==11)){
        return days=30;
       }else if(Monthkey==2){
        return days=28;
       }
     }
    }
    



    //修改每月天数
    var optionDays;
    function addDays(days){
        clearDays();
            for(var i = 1;i <= days; i++){
                var optionDays = document.createElement('option');
                var optionText=  document.createTextNode(i);
                optionDays.value=i;
                optionDays.appendChild(optionText);
                daySelect.appendChild(optionDays);
                           
            }
           
    }
    //每次执行前,清除天数
    function clearDays(){
        while(daySelect.hasChildNodes()){
            daySelect.removeChild(daySelect.firstChild);
        }
    }
   //计算周几
   function weeks(week){
         var arr=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];
         var a =new Date();
         days =a.getDay(week);
         return arr[days];
   }


    function getToday(thisday){
    var arr=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];
    return arr[thisday];
    }

    function checkTime(i){
        if (i<10){
            i = '0'+i;
        }
        return i;
    }
    function checkMon(Mon){
        var arr = ['','January','February','March','April','May','June','July','August','September','October','November','December'];
        return arr[Mon];
    }

    function getThisDate(){
        var today = new Date();
        var NowYear  = today.getFullYear();
        var NowMon   = today.getMonth();
        var NowDay   = today.getDate();
        var NowHour  = today.getHours();
        var NowMinus = today.getMinutes();
        var NowSecond = today.getSeconds();
        var NowHour =checkTime(NowHour);
        var NowMinus  = checkTime(NowMinus);
        var NowSecond = checkTime(NowSecond);
        var thisday = today.getDay();
        var thisday = getToday(thisday);
        var time =document.getElementById('nowtime');
        s = setTimeout('getThisDate()',1000);
        time.innerHTML = "现在时间是："+NowYear+"-"+NowMon+"-"+NowDay+" "+thisday+" "+NowHour+":"+NowMinus+":"+NowSecond;
    }
    getThisDate();
    //计算距离XX天XX小时XX秒
    //利用Date里的计算与1970的时间差
    function sumDate(NowYear,NowMon,NowDay,NowHour,NowMinus,NowSecond){
      var sum=NowYear-year;
      //时间转换Date.parse能识别的
      var NowMon=checkMon(NowMon);
      var Nowpar='"'+NowMon+" "+NowDay+","+NowDay+'"';
      var par='"'+mon+day+","+day+'"';
      var sumDay =0;
      var sumHour=0;
      var sumMinus=0;
      var sumSecond=0;
       var week=weeks(Nowpar);
        if(sum>0){
            
            Nowpar=Date.parse(Nowpar);
            par=Date.parse(par);
            //相差毫秒数
            sumPar=par-Nowpar;
            //秒数
           // sumpar=sumPar*1000;
            //分钟
            //sumpar=sumpar/60;
            //小时
            //sumpar=sumpar/60;
            //天数
            sumDay=sumPar/1000/60/60/24;
            sumHour=sumPar/1000/60/60%24; 
            sumMinus=sumHour%60;
            sumSecond=sumMinus%60;
            //计算周几
           
            resultwrapper.innerHTML="现在距离" +year+"年"+mon+"月"+day+"日"+week+checkTime(hour)+":"+checkTime(minite)+":"+checkTime(second)+" 还有 "+sumDay+"天"+sumHour+ "小时"+ sumMinus+ "分" +second+"秒";
        }
    }
    sumDate(2019,1,1,1,1,1);

 

</script>

</body>
</html>